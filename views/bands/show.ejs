<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Metal+Mania&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="/css/style.css">
    <title>Band Info | Find-a-Band</title>
</head>
<body class="show-page">
    <nav>
        <h1>Band Info</h1>
        <li class="links">
            <a href="/">Home Page</a>
        </li>
        <li class= "links">
            <a href="/bands/index">All Bands</a>
      </li>
      <li class="links">
          <a href="/bands/new">Add a Band</a>
      </li>
    </nav>    

 <main>
    <table class="info">
        <thead>
            <th>Band Name:</th>
            <th>Year Formed:</th>
            <th>Genre:</th>
            <th>Still Active?:</th>
        </thead>
        <tbody>
                <tr>
                    <td><%= band.bandName %></td>
                    <td><%= band.yearFormed %></td>
                    <td><%= band.genre %></td>
                    <td><%= band.stillActive ? 'Yes' : 'No' %></td>
                </tr>
        </tbody>
    </table>

<h2>Band Members</h2>
    <div><%= band.bandMembers.join(', ') %></div>

<h2>Albums</h2>

    <% if (band.albums.length) { %>
<table class='albums'>
  <thead>
    <tr>
      <th>Name:</th>
      <th>Release Year:</th>
      <th>Runtime:</th>
    </tr>
  </thead>
  <tbody>
    <% band.albums.forEach(function(a) { %>
    <tr>
      <td><%= a.albumName %></td>
      <td><%= a.releaseYear %></td>
      <td><%= a.runTime + ' minutes'%></td>
        <% if (a.runTime === null) { %>
          <% return('n/a') %>
       <% } %>
    </tr>
    <% }); %>
  </tbody>
    </table>
    <% } else { %>
    <h5>Be the first to add an album!</h5>
    <% } %>

<h2>Add an Album:</h2>
    <form
    id="add-album-form"
    method="POST"
    action="/bands/<%= band._id %>/albums"
>
    <label>Album Name:</label>
    <input type="text" name="albumName">
    <label>Release Year:</label>
    <select name="releaseYear">
        <option value="2021">2021</option selected>
        <option value="2020">2020</option>
        <option value="2019">2019</option>
        <option value="2018">2018</option>
        <option value="2017">2017</option>
        <option value="2016">2016</option>
        <option value="2015">2015</option>
        <option value="2014">2014</option>
        <option value="2013">2013</option>
        <option value="2012">2012</option>
        <option value="2011">2011</option>
        <option value="2010">2010</option>
        <option value="2009">2009</option>
        <option value="2008">2008</option>
        <option value="2007">2007</option>
        <option value="2006">2006</option>
        <option value="2005">2005</option>
        <option value="2004">2004</option>
        <option value="2003">2003</option>
        <option value="2002">2002</option>
        <option value="2001">2001</option>
        <option value="2000">2000</option>
        <option value="1999">1999</option>
        <option value="1998">1998</option>
        <option value="1997">1997</option>
        <option value="1996">1996</option>
        <option value="1995">1995</option>
        <option value="1994">1994</option>
        <option value="1993">1993</option>
        <option value="1992">1992</option>
        <option value="1991">1991</option>
        <option value="1990">1990</option>
        <option value="1989">1989</option>
    </select>    
    <label>Runtime (in minutes)</label>
    <input type="text" name="runTime">
     <input type="submit" value="Add Album" />
</form>
</main>
</body>
</html>